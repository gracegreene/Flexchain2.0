{% extends 'base.html' %}
{% block title %}Locations{% endblock %}
{% include 'nav.html' %}
{% block content %}
<link href="{{ url_for('static', filename='css/custom.css') }}" rel="stylesheet" type="text/css">
<div id="Greeting">
    <div class="top-container w-container">
        <div class="columns-7 w-row">
            <div class="column-7 w-col w-col-3"><img src="{{ url_for('static', filename='images/scm-girl.png') }}"
                                                     alt="scm girl"
                                                     srcset="{{ url_for('static', filename='images/scm-girl-p-500.png') }} 500w, {{ url_for('static', filename='images/scm-girl-p-800.png') }} 800w, {{ url_for('static', filename='images/scm-girl-p-1080.png') }} 1080w, {{ url_for('static', filename='images/scm-girl-p-1600.png') }} 1600w, {{ url_for('static', filename='images/scm-girl-p-2000.png') }} 2000w, {{ url_for('static', filename='images/scm-girl-p-2600.png') }} 2600w, {{ url_for('static', filename='images/scm-girl-p-3200.png') }} 3200w, {{ url_for('static', filename='images/scm-girl-p-5000.png') }} 5000w"
                                                     sizes="177px" class="image-5"></div>
            <div class="w-col w-col-9">
                <h3 class="peach-text">Hi Grace, welcome to Flexchain! We noticed the following events requiring your
                    attention.</h3>
                <div class="columns-6 w-row">
                    <div class="column-8 w-col w-col-4">
                        <div class="dashboard-tile w-row">
                            <div class="column-5 w-col w-col-3">
                                <h1 class="heading-4">{{ context.count_stockout }}</h1>
                            </div>
                            <div class="column-6 w-col w-col-9">
                                <div class="paragraph-text pt_homepage">Out of Stock Items</div>
                                <a href="/insight/stock-level?type=out" class="secondary-cta">Order Now</a></div>
                        </div>
                    </div>
                    <div class="column-9 w-col w-col-4">
                        <div class="dashboard-tile w-row">
                            <div class="column-5 w-col w-col-3">
                                <h1 class="heading-4 yellow">{{ context.count_critical }}</h1>
                            </div>
                            <div class="w-col w-col-9">
                                <div class="paragraph-text pt_homepage">Low Supply Items</div>
                                <a href="/insight/stock-level?type=low" class="secondary-cta">See Order Strategy</a>
                            </div>
                        </div>
                    </div>
                    <div class="w-col w-col-4">
                        <div class="dashboard-tile w-row">
                            <div class="column-5 w-col w-col-3">
                                <h1 class="heading-4 yellow">{{ context.count_missingsales }}</h1>
                            </div>
                            <div class="w-col w-col-9">
                                <div class="paragraph-text pt_homepage">Missing Sales Data</div>
                                <a href="/product/log" class="secondary-cta">Enter Data</a></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="Charts">
    <div class="top-container w-container">
        <div class="page-subheader ask_sh">Flexchain can provide smart recommendations for your order strategy.<br>Select
            the question you want to ask.
        </div>
        <label class="peach-text ask_pt">Selling</label><label class="radio-button-field w-radio"><input type="radio"
                                                                                                         data-name="Radio"
                                                                                                         id="What should I sell?"
                                                                                                         name="radio"
                                                                                                         value="What should I sell?"
                                                                                                         class="w-form-formradioinput w-radio-input"><span
            for="What should I sell?"
            class="paragraph-text ask_pt w-form-label">What should I sell?</span></label><label
            class="radio-button-field-2 w-radio"><input type="radio" data-name="Radio" id="Where should I sell?"
                                                        name="radio" value="What should I sell?"
                                                        class="w-form-formradioinput w-radio-input"><span
            for="What should I sell?-2"
            class="paragraph-text ask_pt w-form-label">Where should I sell?</span></label><label
            class="radio-button-field-3 w-radio"><input type="radio" data-name="Radio" id="Should I sell this item?"
                                                        name="radio" value="What should I sell?"
                                                        class="w-form-formradioinput w-radio-input"><span
            for="What should I sell?-2"
            class="paragraph-text ask_pt w-form-label">Should I sell this item?</span></label>
        <button id="Ask-Button-2" type="submit" class="secondary-button ask_sb w-button ask-now">Ask Now</button>
        <br><br>
        <label class="peach-text ask_pt">Purchasing</label><label
            class="radio-button-field-2 w-radio"><input type="radio" data-name="Radio" id="How much should I order?"
                                                        name="radio" value="How much should I order?"
                                                        class="w-form-formradioinput w-radio-input"><span
            for="How much should I order?"
            class="paragraph-text ask_pt w-form-label">How much should I order?</span></label><label
            class="radio-button-field-3 w-radio"><input type="radio" data-name="Radio" id="When should I order?" name="radio"
                                                        class="w-form-formradioinput w-radio-input"><span for="radio"
                                                                                                          class="paragraph-text ask_pt w-form-label">When should I order?</span></label>
        <button id="Ask-Button" class="secondary-button ask_sb w-button ask-now">Ask Now</button>
    </div>
</div>
<div id="Modal" class="modal">
    <div class="top-container w-container">
        <div class="modal-content">
            <div style="display:none;" class="what-should-sell">
                <label class="peach-text ask_pt">What should I sell?</label>
                <form action="/insight/ask/sell/what" method="POST">
                    <label for="location">Location
                        <select name="location">
                            {% for location in context.locations %}
                            <option value="{{ location.location_id }}">{{ location.loc_name }}</option>
                            {% endfor %}
                        </select>
                    </label>
                    <label for="date">Date
                        <input type="date" name="date"/>
                    </label>
                    <button type="button" class="close secondary-button ask_sb w-button">Cancel</button>
                    <input type="submit" value="Get suggestion" data-wait="Please wait..."
                           class="secondary-button ask_sb w-button">
                </form>
            </div>
            <div style="display:none;" class="where-should-sell">
                <form action="/insight/ask/sell/where" method="POST">
                    <label class="peach-text ask_pt">Where should I sell?</label>
                    <label for="location">Location
                        <select name="location">
                            {% for location in context.locations %}
                            <option value="{{ location.location_id }}">{{ location.loc_name }}</option>
                            {% endfor %}
                        </select>
                    </label>
                    <label for="top-three-products"> Top Three Products <br>
                        {% for product in context.products %}
                        <input type="checkbox" name="{{ product.sku }}"/> {{ product.product_name }}
                        <br>
                        {% endfor %}
                    </label>
                    <button type="button" class="close secondary-button ask_sb w-button">Cancel</button>
                    <input type="submit" value="Get suggestion" data-wait="Please wait..."
                           class="secondary-button ask_sb w-button">
                </form>
            </div>
            <div style="display:none;" class="should-sell">
                <form action="/insight/ask/sell/should" method="POST">
                    <label class="peach-text ask_pt">Should I sell this item?</label>
                    <label for="product">
                        <select name="product">
                            {% for product in context.products %}
                            <option value="{{ product.sku }}">{{ product.product_name }}</option>
                            {% endfor %}
                        </select>
                    </label>
                    <label for="location">
                        <select name="location">
                            {% for location in context.locations %}
                                <option value="{{ location.location_id }}">{{ location.loc_name }}</option>
                            {% endfor %}
                        </select>
                    </label>
                    <button type="button" class="close secondary-button ask_sb w-button">Cancel</button>
                    <input type="submit" value="Get suggestion" data-wait="Please wait..."
                           class="secondary-button ask_sb w-button">
                </form>
            </div>
            <div style="display:none;" class="how-much-order">
                <label class="peach-text ask_pt">How much should I order?</label>
                <label for="product">
                    <select>
                        {% for product in context.products %}
                        <option value="{{ product.product_id }}">{{ product.product_name }}</option>
                        {% endfor %}
                    </select>
                </label>
                <label for="location">
                    <select>
                        {% for location in context.locations %}
                        <option value="{{ location.location_id }}">{{ location.loc_name }}</option>
                        {% endfor %}
                    </select>
                </label>
                <button class="close secondary-button ask_sb w-button">Cancel</button>
                    <input type="submit" value="Get suggestion" data-wait="Please wait..."
                           class="secondary-button ask_sb w-button">
            </div>
            <div style="display:none;" class="when-order">
                <div class="w-form">
                <form id="email-form" name="email-form" data-name="Email Form" class="form-3"><label
                        class="peach-text ask_pt">When should I order?</label>
                    <div class="paragraph-text ask_pt2">Enter all necessary information for Flexchain to provide you
                        valuable insights.
                    </div>
                    <label for="Product" class="formlabel">Select the item you want to order</label><select id="Product"
                                                                                                            name="Product"
                                                                                                            required=""
                                                                                                            data-name="Product"
                                                                                                            class="select-field w-select">
                        {% for product in context.products%}
                        <option value="{{ product.sku }}">{{ product.product_name }}</option>
                        {% endfor %}
                    </select>
                    {% for location in context.locations %}
                    <div class="checkbox">
                        <label for="{{ location.location_id }}-checkbox">
                            <input type="checkbox" id="{{ location.location_id }}-checkbox"
                                   name="location-{{ loop.index }}" value="{{ location.location_id }}"/>
                            {{ location.loc_name }}
                        </label>
                    </div>
                    {% endfor %}
                    <br>
                    <button class="close secondary-button ask_sb w-button">Cancel</button>
                    <input type="submit" value="Get suggestion" data-wait="Please wait..."
                           class="secondary-button ask_sb w-button"></form>
                <div class="w-form-done">
                    <div>Thank you! Your submission has been received!</div>
                </div>
                <div class="w-form-fail">
                    <div>Oops! Something went wrong while submitting the form.</div>
                </div>
            </div>
            </div>
        </div>
    </div>
</div>

<script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.4.1.min.220afd743d.js" type="text/javascript"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<script src="{{ url_for('static', filename='js/webflow.js') }}" type="text/javascript"></script>
<!-- [if lte IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif] -->
<script type="text/javascript">
    // Get the modal
$( document ).ready(function() {
    var modal = document.getElementById("Modal");

    // Get the button that opens the modal
    var btn = document.getElementById("Ask-Button");
    var btn2 = document.getElementById("Ask-Button-2");
    let whatShouldISell = document.getElementById("What should I sell?");
    let whereShouldISell = document.getElementById("Where should I sell?");
    let shouldISellThisItem = document.getElementById("Should I sell this item?");
    let howMuchShouldIOrder = document.getElementById("How much should I order?");
    let whenShouldIOrder = document.getElementById("When should I order?");

    // When the user clicks on the button, open the modal
    btn.onclick = function () {
        if (howMuchShouldIOrder.checked) {
            modal.style.display = "block";
            $(".how-much-order").css({display: "block"});
        }
        if (whenShouldIOrder.checked) {
            modal.style.display = "block";
            $(".when-order").css({display: "block"});
        }
    };

    btn2.onclick = function () {
        if (whatShouldISell.checked) {
            modal.style.display = "block";
            $(".what-should-sell").css({display: "block"});
        }
        if (whereShouldISell.checked) {
            $(".where-should-sell").css({display: "block"});
            modal.style.display = "block";
        }
        if (shouldISellThisItem.checked) {
            $(".should-sell").css({display:"block"});
            modal.style.display = "block";
        }
    };

    // When the user clicks on <span> (x), close the modal
    $(".close").click(function(){
        modal.style.display = "none";
        $(".what-should-sell").css({display:"none"});
        $(".where-should-sell").css({display:"none"});
        $(".should-sell").css({display:"none"});
        $(".how-much-order").css({display: "none"});
        $(".when-order").css({display: "none"});
    });

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function (event) {
        if (event.target == modal) {
            modal.style.display = "none";
            $(".what-should-sell").css({display:"none"});
            $(".where-should-sell").css({display:"none"});
            $(".should-sell").css({display:"none"});
            $(".how-much-order").css({display: "none"});
            $(".when-order").css({display: "none"});
        }
    }
});
</script>
{% endblock %}